# Software Requirement Specification

------

------

## iCountry

| person(s) who made changes | date of changes | purposes of changes                      | version number |
| -------------------------- | --------------- | ---------------------------------------- | -------------- |
| Zhou Zheng                 | 2019.8.1        | To determine the initial structure       | v1.0           |
| Xu Junbo                   | 2019.8.4        | To finish use cases 13th - the last      | v1.0           |
| An Hao                     | 2019.8.4        | To finish use cases 1st - 4th            | v1.1           |
| Chen Yuyao                 | 2019.8.12       | To finish use cases 9th - 12th           | v1.2           |
| Fan Ye                     | 2019.8.13       | To finish use cases 5th - 8th            | v1.3           |
| Zhou Zheng                 | 2019.8.20       | To determine non-functional requirements | v1.4           |
|                            |                 |                                          |                |
|                            |                 |                                          |                |
|                            |                 |                                          |                |



## 0. Content

[TOC]

## 1. Introduction

------

### 1.1 Purpose



### 1.2 Boundary



### 1.3 References

- IEEE Standards

- Use Case DocumentV1.0.3

------

## 2. General description

------

### 2.1 Project prospects

#### 2.1.1 Background and opportunities



#### 2.1.2 Business requirements

BR1：
BR2：
BR3：

### 2.2 Projects functions

SF1：
SF2：
SF3：
SF4：
SF5：
SF6：

### 2.3 User characteristics

|   用户   |                             描述                             |
| :------: | :----------------------------------------------------------: |
| 农户个体 |        希望通过平台获得信贷，能够使用简单的信息系统。        |
|  管理员  | 维护系统的运行，实时查看系统的各项数据。能够熟练使用信息系统。 |
|   银行   | 区块链上的接入方，自身拥有服务器，拥有读取平台部分数据的权限。 |

### 2.4 Constrains

CON1：采用Java语言开发服务器端，solidity语言开发区块链
CON2：图形化界面进行操作
CON3：开发过程中，开发者要提交软件需求规格文档、设计文档和测试报告文档

### 2.5 Hypothesis and dependence

AE1：用户在已有贷款申请或者已有担保款项时，不能在为他人担保
AE2：当系统的资金池低于一定限度时，当日不再为用户提供贷款审批
AE3：当用户有逾期还款时，系统将限制用户的部分功能
AE4：系统需提供新建账户的功能，以保证用户的使用权限
AE5：管理员账号为内置账号，负责平台内部的维护

------

## 3. Detailed requirement description

------

### 3.1 External interface requirements

#### 3.1.1 Graphical user Interface 



#### 3.1.2 Communication Interface

### See "Interface documentation" for details.

### 3.2 Functional Requirements 

#### 3.2.1  用例01：绑定银行卡信息

##### 3.2.1.1 特征描述

​	用户注册成为平台会员后，系统提示用户绑定银行卡信息；用户也可以自行发起绑定银行卡信息请求。

##### 3.2.1.2 刺激/响应序列

- 刺激：用户注册成为会员后初次登入平台
- 响应：平台提示用户绑定银行卡信息
- 刺激：用户选择绑定银行卡信息
- 响应：系统显示绑定银行卡界面
- 刺激：用户输入银行卡账号、密码
- 响应：系统显示银行卡账号，以隐匿的形式显示银行卡密码
- 刺激：用户确认绑定
- 响应：系统向该银行卡预留手机号发送短信验证码
- 刺激：用户填写验证码
- 响应：系统提示绑定成功



##### 3.2.1.3 相关功能需求

| 。。 | 。。。 |
| :--: | :----: |
| 。。 | 。。。 |
| 。。 | 。。。 |



#### 3.2.2  用例02：查看绑定银行卡

##### 3.2.2.1 特征描述

​	用户绑定银行卡后，可以查看自己绑定的银行卡信息，包括绑定的银行卡的所属银行和银行卡号（注：银行卡号应该只显示最后4位，后面可能把这个添加到数据需求里？）。

##### 3.2.2.2 刺激/响应序列

- 刺激：用户选择查看绑定银行卡
- 响应：系统显示用户绑定的所有银行卡的信息，包括绑定的银行卡的所属银行和银行卡号。



##### 3.2.2.3 相关功能需求

| 。。 | 。。。 |
| :--: | :----: |
| 。。 | 。。。 |
| 。。 | 。。。 |

#### 3.2.3  用例03：银行卡解绑

##### 3.2.3.1 特征描述

​	用户绑定银行卡后，可以选择解除银行卡的绑定。

##### 3.2.3.2 刺激/响应序列

- 刺激：用户选择解除绑定一张银行卡
- 响应：系统提示用户输入银行卡号和密码
- 刺激：用户输入银行卡账号和密码
- 响应：系统验证，并提示用户是否确认解绑
- 刺激：用户确认解绑
- 响应：系统解除银行卡绑定并提示用户解绑成功



##### 3.2.3.3 相关功能需求

| 。。 | 。。。 |
| :--: | :----: |
| 。。 | 。。。 |
| 。。 | 。。。 |

#### 3.2.4  用例04：完善个人信息

##### 3.2.4.1 特征描述

​	用户注册成为会员后；系统提示用户完善个人信息；用户也可以自己选择完善个人信息。

##### 3.2.4.2 刺激/响应序列

- 刺激：用户注册成为会员后初次登入平台
- 响应：平台提示用户完善个人信息
- 刺激：用户选择完善个人信息
- 响应：系统返回待填信息列表，包括个人姓名、性别、身份证号、出生日期
- 刺激：用户输入个人信息
- 响应：系统展示用户个人信息
- 刺激：用户确认提交个人信息
- 响应：系统检验个人信息并提示用户已完成个人信息



##### 3.2.4.3 相关功能需求

| 。。 | 。。。 |
| :--: | :----: |
| 。。 | 。。。 |
| 。。 | 。。。 |

#### 3.2.5  用例05：绑定身份证信息

3.2.5.1 特征描述
用户提交身份证件信息并确认绑定
优先级=高

##### 3.2.5.2 刺激/响应序列

- 刺激：输入身份证件信息，点击绑定
- 响应：显示绑定成功 退出当前页面 显示绑定失败，说明错误信息，停留在当前页面



##### 3.2.5.3 相关功能需求

|   Info.Input    |                     输入信息                     |
| :-------------: | :----------------------------------------------: |
| Info.Validation | 检查是否符合格式要求，信息是否完整，否则提示用户 |
|    Info.Ack     |                   用户确认绑定                   |
|   Info.Cancel   |                     取消绑定                     |
|    Info.Save    |                     信息存储                     |
|    Info.Succ    |           返回绑定信息，绑定成功或错误           |
|    Info.Quit    |                     退出绑定                     |

#### 3.2.6  用例06：查看个人信息

#### 3.2.6.1 特征描述

用户查看个人信息 包括注册信息，系统账户信息
优先级=高

##### 3.2.6.2 刺激/响应序列

- 刺激：点击“我的”
- 响应：显示个人信息条目
- 刺激：点击条目
- 响应：显示对应条目详细信息



##### 3.2.6.3 相关功能需求

|          。。          |    。。。    |
| :--------------------: | :----------: |
|  Account.Message.list  | 显示信息列表 |
| Account.Message.Detail | 显示详细信息 |

#### 3.2.7  用例07：查看个人征信评分

##### 3.2.7.1 特征描述

用户查看个人征信评分信息
优先级=高

##### 3.2.7.2 刺激/响应序列

- 刺激：点击“信用评分”
- 响应：显示个人信用评分信息
- 刺激：点击信用变化
- 响应：显示变化状况
- 刺激：点击生成信誉报告
- 响应：提示报告保存地址



##### 3.2.7.3 相关功能需求

|             。。              |      。。。      |
| :---------------------------: | :--------------: |
|  Account.Message.credit.mark  | 显示征信评分信息 |
| Account.Message.credit.change | 显示信誉变化记录 |
| Account.Message.credit.report |     生成报告     |



#### 3.2.8  用例08：（定期）存款

##### 3.2.8.1 特征描述

用户向账户中存款
优先级=高

##### 3.2.8.2 刺激/响应序列

- 刺激响应序列：
- 刺激：点击存款
- 响应：显示存款信息填写页面
- 刺激：确认存款金额
- 响应：显示存款方案选择页面
- 刺激：选择存款方案，利率信息
- 响应：显示存款协议确认页面
- 刺激：确认协议已读
- 响应：显示支付方式选择界面
- 刺激：选择银行卡
- 响应：身份验证
- 刺激：用户身份验证并完成支付
- 响应：存款受理信息
- 刺激：选择退出
- 响应：确认退出？
- 刺激：确认
- 响应：退出
- 刺激：选择回退上一栏
- 响应：回到上一界面

##### 3.2.8.3 相关功能需求

|   deposit.Message.amount   |       金额       |
| :------------------------: | :--------------: |
| deposit.Message.validation |    检查并提示    |
|    deposit.plan.create     |   生成存款方案   |
|    deposit.plan.choose     |   选择存款方案   |
|    deposit.agree.create    |   生成对应协议   |
|     deposit.agree.ack      |     确认协议     |
|   deposit.agree.ack.sign   |     用户签名     |
|     deposit.pay.start      | 银行支付接口调用 |
| deposit.pay.authentication |     身份验证     |
|    deposit.pay.transfer    |       转账       |
|      deposit.pay.succ      | 返回转账成功信息 |

#### 3.2.9  用例09：撤销（定期）存款

##### 3.2.9.1 特征描述

- 在（定期）存款未到期前用户要撤销某一笔存款时，用户完成撤销操作，系统存储撤销记录，并将记录上链

##### 3.2.9.2 刺激/响应序列

- 刺激：用户选择想要撤销的款项
- 响应：系统提示用户操作将会产生的结果，并提示用户确认
- 刺激：用户选择确认
- 响应：系统通过区块链将款项对应金额转至用户的银行卡账户中，并存储该操作记录，关闭当前撤销存款任务，给用户显示操作结果。
- 刺激：用户选择取消
- 响应：系统关闭撤销存款任务



##### 3.2.9.3 相关功能需求

|     RepealSave.Select     |                系统允许用户选择想要撤销的款项                |
| :-----------------------: | :----------------------------------------------------------: |
| RepealSave.Select.Confirm | 在用户选择确认时，系统要通过区块链将款项对应金额转至用户的银行卡账户中，并存储该操作记录，关闭当前撤销存款任务，给用户显示操作结果 |
| RepealSave.Select.Cancel  |            在用户选择取消时，系统关闭撤销存款任务            |

#### 3.2.10  用例10：查看存款、撤销记录

##### 3.2.10.1 特征描述

- 在用户要查看个人入资变动记录时，用户完成请求查看操作，系统展示个人入资变动记录。

##### 3.2.10.2 刺激/响应序列

- 刺激：用户选择查看个人入资变动记录
- 响应：系统展示个人的所有入资及撤销记录
- 刺激：用户选择撤销存款
- 响应：系统进入撤销存款任务（见相应用例）
- 刺激：用户选择关闭个人入资变动记录
- 响应：系统关闭查看个人入资变动记录任务



##### 3.2.10.3 相关功能需求

|    SaveRecord.Check     |               系统允许用户查看个人入资变动记录               |
| :---------------------: | :----------------------------------------------------------: |
| SaveRecord.Check.Repeal |          在用户选择撤销存款时，系统进入撤销存款任务          |
| SaveRecord.Check.Close  | 在用户选择关闭个人入资变动记录时，系统关闭查看个人入资变动记录任务 |

#### 3.2.11  用例11：申请小额信贷

##### 3.2.11.1 特征描述

- 在用户要申请小额信贷时，用户完成贷款额度、贷款用途的填写，系统生成贷款方案供用户选择，用户完成担保人信息的填写，系统向担保人发送提示并将贷款结果上传至区块链。

##### 3.2.11.2 刺激/响应序列

- 刺激：用户选择申请小额信贷
- 响应：系统提示填写贷款额度、贷款用途
- 刺激：用户填写贷款额度、贷款用途
- 响应：系统进行合法性检验，实时反馈结果
- 刺激：用户确认贷款额度、贷款用途
- 响应：系统根据用户的贷款额度自动生成多个贷款方案，并提示用户选择
- 刺激：用户选择系统生成的贷款方案并确认
- 响应：系统提示填写担保人信息
- 刺激：用户填写担保人姓名和身份证号
- 响应：系统进行合法性检验，实时反馈结果
- 刺激：用户确认担保人姓名和身份证号
- 响应：系统根据用户填写的担保人姓名和身份证号进入数据库进行查询
- 刺激：用户选择同意阅读贷款协议
- 响应：解锁确认按钮
- 刺激：用户选择拒绝阅读贷款协议
- 响应：系统锁定确认按钮，用户无法点击确认按钮
- 刺激：用户点击确认按钮
- 响应：系统根据用户的选择提示操作结果，并向担保人发送提示同时进行贷款申请审核
- 刺激：用户选择关闭申请小额信贷任务
- 响应：系统关闭申请小额信贷任务。
- 刺激：贷款申请审核通过且担保人同意成为担保人
- 响应：系统将贷款结果上传至区块链，并发放贷款



##### 3.2.11.3 相关功能需求

| LoanApply.Input | 系统允许用户进行申请小额信贷任务中进行输入 |
| :-------------: | :----------------------------------------: |
| LoanApply.Refer |  系统根据用户填写的输入进入数据库进行查询  |



#### 3.2.12  用例12：查看小额信贷申请

##### 3.2.12.1 特征描述

- 在用户要查看小额信贷申请时，用户完成请求查看操作，系统展示个人小额信贷申请。

##### 3.2.12.2 刺激/响应序列

- 刺激：用户选择查看个人小额信贷申请
- 响应：系统展示个人的小额信贷申请记录
- 刺激：用户选择确认贷款申请
- 响应：系统进入确认贷款申请任务（见相应用例）
- 刺激：用户选择取消贷款申请
- 响应：系统进入取消贷款申请任务（见相应用例）
- 刺激：用户选择关闭个人小额信贷申请记录
- 响应：系统关闭查看个人小额信贷申请记录任务



##### 3.2.12.3 相关功能需求

|     ApplyRecord.Check     |             系统允许用户查看个人小额信贷申请记录             |
| :-----------------------: | :----------------------------------------------------------: |
| ApplyRecord.Check.Confirm |      在用户选择确认贷款申请时，系统进入确认贷款申请任务      |
| ApplyRecord.Check.Cancel  |      在用户选择取消贷款申请时，系统进入取消贷款申请任务      |
|  ApplyRecord.Check.Close  | 在用户选择关闭个人小额信贷申请记录时，系统关闭查看个人小额信贷申请记录任务 |

#### 3.2.13  用例13：确认个人信贷申请

##### 3.2.13.1 特征描述

当用户的贷款申请被系统和担保人通过后，需要确认该信贷申请来完成信贷操作。

##### 3.2.13.2 刺激/响应序列

- 刺激：用户发起确认贷款申请的请求
- 响应：系统展示最终的电子协议并提示用户进行签字确认
- 刺激：用户在电子协议上签字并确认
- 响应：系统完成信贷操作，进行转账，并返回结果



##### 3.2.13.3 相关功能需求

|                            |                      |
| :------------------------: | :------------------: |
|   Contract.showProtocol    |   系统显示电子协议   |
|       Contract.sign        |   系统接收用户签字   |
| Contract.completeApplyLoad | 系统确认个人信贷申请 |
|     Contract.getAmount     |   系统获取信贷数额   |
|  Contract.transferAccount  |   系统接收用户签字   |

#### 3.2.14  用例14：取消个人信贷申请

##### 3.2.14.1 特征描述

当用户正在产看历史贷款申请时，且想要取消贷款申请并且该贷款尚未被确认时，用户可以取消贷款申请。

##### 3.2.14.2 刺激/响应序列

- 刺激：用户发起取消贷款的申请
- 响应：系统提示是否确认取消
- 刺激：用户确认取消
- 响应：系统返回操作结果

##### 3.2.14.3 相关功能需求

|                        |                            |
| :--------------------: | :------------------------: |
| Client.cancelApplyLoad | 用户发起取消申请贷款的请求 |
|   System.checkCancel   | 系统核定该申请是否可以取消 |
| System.cancelApplyLoad |        系统取消申请        |

#### 3.2.15  用例15：担保人查看个人担保款项

##### 3.2.15.1 特征描述

当用户是某贷款的合法担保人时，可以查看用户的担保款项

##### 3.2.15.2 刺激/响应序列

- 刺激：用户发起查看个人担保贷款项目的请求
- 响应：系统显示该用户个人担保贷款项目



##### 3.2.15.3 相关功能需求

|                              |                      |
| :--------------------------: | :------------------: |
|  Client.viewGuranteeProject  | 用户查看个人担保项目 |
| client.showMyGuranteeProject | 系统显示个人担保项目 |

#### 3.2.16  用例16：担保人处理担保请求

##### 3.2.16.1 特征描述

当担保人有尚未同意的担保项目，且想要同意成为该项目的担保人时，用户可以同意确认成为该项目的担保人

##### 3.2.16.2 刺激/响应序列

- 刺激：用户发起处理贷款担保申请的请求
- 响应：系统显示该贷款申请详细信息
- 刺激：用户确认信息后，提交处理意见
- 响应：系统保存结果，并返回处理结果

##### 3.2.16.3 相关功能需求

|                             |                                  |
| :-------------------------: | :------------------------------: |
| Client.DealGuranteeProject  |  用户发起处理贷款担保申请的请求  |
| System.showLoadPorjectInfo  |     系统显示该贷款项目的信息     |
| Client.checkLoadPorjectInfo |      用户确认贷款项目的信息      |
| Client.handleGuranteeApply  |   用户处理个人信贷项目担保申请   |
| System.saveGuranteeProject  | 系统保存处理结果，并返回处理结果 |

#### 3.2.17  用例17：小额信贷还款

##### 3.2.17.1 特征描述

当小额信贷到期或用户选择提前结束贷款时，用户可以发起小额信贷还款的请求

##### 3.2.17.2 刺激/响应序列

- 刺激：用户发起还款请求
- 响应：



##### 3.2.17.3 相关功能需求

| 。。 | 。。。 |
| :--: | :----: |
| 。。 | 。。。 |
| 。。 | 。。。 |



#### 3.2.18  用例18：查看资金池总量变化明细

##### 3.2.18.1 特征描述

##### 3.2.18.2 刺激/响应序列

- 刺激：
- 响应：



##### 3.2.18.3 相关功能需求

| 。。 | 。。。 |
| :--: | :----: |
| 。。 | 。。。 |
| 。。 | 。。。 |

#### 3.2.19  用例19：调整信贷方案

##### 3.2.19.1 特征描述

##### 3.2.19.2 刺激/响应序列

- 刺激：
- 响应：



##### 3.2.19.3 相关功能需求

| 。。 | 。。。 |
| :--: | :----: |
| 。。 | 。。。 |
| 。。 | 。。。 |

### 3.3 Non-functional requirements

#### 3.3.1  Safety

- Safety1：
- Safety2：
- Safety3：

#### 3.3.2  Maintainability

- Modifiability1：
- Modifiability2：

#### 3.3.3  Ease of use

- Usability1：
- Usability2：
- Usability3：

#### 3.3.4  Reliability

- Reliability1：
- Reliability2：

#### 3.3.5  Constraints

- IC1：

### 3.4  Data requirements

#### 3.4.1  Data definitionDR1：

- DR2：

#### 3.4.2  Default data

- None

#### 3.4.3  Data format requirements

- Format1：
- Format2：
- Format3：

### 3.5 Other requirements

- install1：

### 4 Appendix

None